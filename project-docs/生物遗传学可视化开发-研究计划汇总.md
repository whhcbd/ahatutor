# 生物遗传学可视化开发/研究计划汇总

> 基于 [agent-implementation-requirements.md](./agent-implementation-requirements.md) 需求文档
> 产品：AhaTutor（学科可视化交互解答平台）| MVP学科：遗传学

---

## 一、项目概述

**核心目标**：打造"自然语言输入 + AI理解 + 实时可视化 + 交互探索"的学科学习平台

**目标用户**：考前突击学生（速通模式）、系统学习者（深度模式）

**技术栈**：React 18 + TypeScript + Vite + NestJS + LangChain + Neo4j + D3.js + A2UI

**核心创新**：
1. A2UI 动态界面生成
2. 双模式学习系统（速通+深度）
3. 六 Agent 协作流水线
4. 反向知识树（递归构建学习路径）
5. 混合架构（RAG + ToolUse）

**PRD 文档**：[agent-implementation-requirements.md](./agent-implementation-requirements.md)

---

## 二、项目功能模块

### 2.1 MVP 核心功能

- [ ] **RAG 向量数据库** - 基本问答
  - 文档上传解析（PDF/Word） | 向量化存储 | 流式输出 | 多轮对话 | 多模态支持

- [ ] **速通模式** - 沉浸式刷题
  - AI出题 → 用户回答 → AI判断 → 用户自评（低级/高级） → 解答模式（5级解析）
  - 验收：AI判断准确率 > 80% | 解析等级选择器**常态显示在解析顶部**

### 2.2 深度模式

- [ ] **反向知识树构建** ⭐（核心创新）
  - PrerequisiteExplorer Agent | 递归分解：理解X前需要先懂什么？
  - D3.js知识图谱 | 艾宾浩斯复习计划 | 学习路径推荐

### 2.3 错题管理与组卷

- [ ] **错题管理**
  - 拍照/图片上传 | OCR + Vision识别 | 错题分类存储 | 个人错题库

- [ ] **举一反三**
  - 基于错题生成3道相似题 | 变式训练 | 一键加入复习

- [ ] **智能组卷**
  - 错题/知识点/时间段/自定义组卷 | 题型/难度/数量配置

### 2.4 学情报告

- [ ] **报告生成**
  - 日/周/专题/错题报告 | 薄弱点分析 | 掌握度雷达图 | 复习建议
  - 验收：报告生成时间 < 3s

### 2.5 Agent + Skills

- [ ] **联网搜索** - 实时检索遗传学资讯
- [ ] **资源推荐** - 视频/文献推荐

### 2.6 六 Agent 协作流水线（核心创新）

- [ ] **Agent 1: ConceptAnalyzer** - "这真正在问什么？"
- [ ] **Agent 2: PrerequisiteExplorer** ⭐ - "理解这个前需要先懂什么？"
- [ ] **Agent 3: GeneticsEnricher** - "精确的遗传学原理是什么？"
- [ ] **Agent 4: VisualDesigner** - "如何展示这个概念？"
- [ ] **Agent 5: NarrativeComposer** - "连接这些概念的故事是什么？"
- [ ] **Agent 6: QuizGenerator** - "如何生成题目和评估？"

验收：流水线正常运行 | 端到端响应 < 10s

### 2.7 A2UI 动态界面生成

- [ ] **动态渲染**
  - 题目卡片 | 自评弹窗 | 解析等级Tabs | 知识图谱节点 | 错题上传 | 学情报告

---

## 三、任务清单

### 第一阶段：MVP 核心

**目标**：实现基本的速通模式

- [ ] **项目初始化** - React + Vite + TypeScript | ESLint + Prettier | 环境变量
- [ ] **RAG 框架** - 向量DB配置 | 文档解析 | 向量化 | 检索 | LLM集成 | 流式输出
- [ ] **速通模式流程** - 状态机设计 | 提示词工程 | AI出题/判断 | 用户自评 | 解答模式（5级）
- [ ] **基础 UI** - 题目卡片 | 答案输入 | 解析展示 | 自评弹窗 | 响应式布局

### 第二阶段：错题管理与组卷

- [ ] **错题管理** - 相机/图片上传 | OCR识别 | 错题编辑 | 分类存储 | 列表展示
- [ ] **举一反三** - 相似题生成 | 变式训练 | 练习界面
- [ ] **智能组卷** - 组卷算法 | 配置界面 | 预览导出

### 第三阶段：学情报告与可视化

- [ ] **学情报告** - 报告生成逻辑 | 数据统计 | 图表集成 | 报告导出
- [ ] **速通可视化** - 进度追踪 | 正确率 | 薄弱点 | 错题趋势
- [ ] **深度模式** - 知识图谱数据结构 | Neo4j连接 | PrerequisiteExplorer Agent | D3.js力导向图 | 学习路径推荐 | 艾宾浩斯复习

### 第四阶段：六 Agent 流水线

- [ ] **Agent 框架** - IAgent接口 | BaseAgent | 通信机制 | 流水线编排器
- [ ] **Agent 实现** - ConceptAnalyzer | PrerequisiteExplorer ⭐ | GeneticsEnricher | VisualDesigner | NarrativeComposer | QuizGenerator
- [ ] **流水线集成** - 并行调度 | 错误处理 | 性能优化

### 第五阶段：体验优化

- [ ] **多轮对话优化** - 会话管理 | 上下文理解 | 对话摘要
- [ ] **Agent Skills** - 联网搜索 | 资源推荐
- [ ] **多模态增强** - 手写识别 | 图片批改 | 语音输入
- [ ] **性能优化** - 代码分割 | 请求缓存 | 离线功能 | 移动端优化

---

## 四、验收标准

### 功能验收
- RAG：能解析教材并回答问题 | 流式延迟 < 500ms
- 速通：完整流程运行 | AI判断 > 80% | 解析等级正常
- 深度：自动构建知识树 | 图谱渲染正常 | 复习准时触发
- 错题：拍照正常 | OCR > 85% | 举一反三质量合格
- Agent：流水线正常 | 端到端 < 10s
- A2UI：界面渲染正常 | 降级可用

### 性能验收
- 出题 < 3s | 流式 < 500ms | OCR < 5s | 报告 < 3s | 首屏 < 2s

### 体验验收
- 界面简洁 | 流程顺畅 | 错误友好 | 移动端适配

---

## 五、风险与挑战

| 风险 | 应对措施 |
|------|----------|
| OpenAI API 限流 | 请求队列、缓存、降级 |
| OCR 识别准确率 | 多引擎融合、人工校对 |
| A2UI 稳定性 | 降级到传统组件 |
| AI 题目质量 | Prompt优化、用户反馈 |
| 成本控制 | 请求缓存、智能降级 |

---

## 六、经验与问题记录

### 已解决
| 问题 | 解决方案 | 日期 |
|------|----------|------|
| （暂无） | - | - |

### 未解决
| 问题 | 尝试方案 | 优先级 |
|------|----------|--------|
| （暂无） | - | - |

### 经验总结
| 经验 | 应用场景 | 日期 |
|------|----------|------|
| （暂无） | - | - |

---

## 七、参考资料

**核心文档**：[agent-implementation-requirements.md](./agent-implementation-requirements.md)

**技术参考**：OpenAI/Claude API | LangChain | D3.js | Neo4j | A2UI

**竞品分析**：Brilliant.org | PhET | Napkin.ai | ManimML

---

*v3.1 (精简版) | 2026-02-08*
